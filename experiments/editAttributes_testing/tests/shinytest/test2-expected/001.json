{
  "input": {
    "col_add": 0,
    "comments": "",
    "donebtn": 0,
    "id": "",
    "leaf_id": null,
    "map-map_bounds": {
      "north": -33.0270875800287,
      "east": 156.07177734375,
      "south": -40.0780714274501,
      "west": 134.93408203125
    },
    "map-map_center": {
      "lng": 145.4975919,
      "lat": -36.6337861467553
    },
    "map-map_groups": [
      "Esri.WorldImagery",
      "editLayer"
    ],
    "map-map_zoom": 6,
    "new_name": "",
    "new_type": "character",
    "row_add": 0,
    "tbl_cell_clicked": {

    },
    "tbl_cells_selected": [

    ],
    "tbl_columns_selected": null,
    "tbl_rows_all": 1,
    "tbl_rows_current": 1,
    "tbl_rows_selected": null,
    "tbl_search": "",
    "tbl_state": {
      "time": 1644924692440,
      "start": 0,
      "length": 50,
      "order": [

      ],
      "search": {
        "search": "",
        "smart": true,
        "regex": false,
        "caseInsensitive": true
      },
      "columns": [
        {
          "visible": true,
          "search": {
            "search": "",
            "smart": true,
            "regex": false,
            "caseInsensitive": true
          }
        },
        {
          "visible": true,
          "search": {
            "search": "",
            "smart": true,
            "regex": false,
            "caseInsensitive": true
          }
        },
        {
          "visible": true,
          "search": {
            "search": "",
            "smart": true,
            "regex": false,
            "caseInsensitive": true
          }
        },
        {
          "visible": false,
          "search": {
            "search": "",
            "smart": true,
            "regex": false,
            "caseInsensitive": true
          }
        },
        {
          "visible": false,
          "search": {
            "search": "",
            "smart": true,
            "regex": false,
            "caseInsensitive": true
          }
        }
      ]
    }
  },
  "output": {
    "dyn_form": {
      "html": "<div class=\"form-group shiny-input-container\" style=\"width:100%;\">\n  <label class=\"control-label\" id=\"id-label\" for=\"id\">id (character)<\/label>\n  <input id=\"id\" type=\"text\" class=\"form-control\" value=\"\"/>\n<\/div>\n<div class=\"form-group shiny-input-container\" style=\"width:100%;\">\n  <label class=\"control-label\" id=\"comments-label\" for=\"comments\">comments (character)<\/label>\n  <input id=\"comments\" type=\"text\" class=\"form-control\" value=\"\"/>\n<\/div>\n<div class=\"form-group shiny-input-container\" style=\"width:100%;\">\n  <label class=\"control-label\" id=\"leaf_id-label\" for=\"leaf_id\">leaf_id (integer)<\/label>\n  <input id=\"leaf_id\" type=\"number\" class=\"form-control\" value=\"NA\"/>\n<\/div>\n<script>document.getElementById('leaf_id-label').hidden = true; document.getElementById('leaf_id').style.visibility = 'hidden';<\/script>",
      "deps": [

      ]
    },
    "map-map": {
      "x": {
        "options": {
          "minZoom": 1,
          "maxZoom": 52,
          "crs": {
            "crsClass": "L.CRS.EPSG3857",
            "code": null,
            "proj4def": null,
            "projectedBounds": null,
            "options": {

            }
          },
          "preferCanvas": false,
          "bounceAtZoomLimits": false,
          "maxBounds": [
            [
              [
                -90,
                -370
              ]
            ],
            [
              [
                90,
                370
              ]
            ]
          ]
        },
        "calls": [
          {
            "method": "addProviderTiles",
            "args": [
              "Esri.WorldImagery",
              "Esri.WorldImagery",
              "Esri.WorldImagery",
              {
                "errorTileUrl": "",
                "noWrap": false,
                "detectRetina": false,
                "pane": "tilePane"
              }
            ]
          },
          {
            "method": "createMapPane",
            "args": [
              "polygon",
              420
            ]
          },
          {
            "method": "addPolygons",
            "args": [
              [
                [
                  [
                    {
                      "lng": [
                        140.9619017,
                        150.0332821,
                        150.0332821,
                        140.9619017,
                        140.9619017
                      ],
                      "lat": [
                        -39.1984867,
                        -39.1984867,
                        -33.9807974,
                        -33.9807974,
                        -39.1984867
                      ]
                    }
                  ]
                ]
              ],
              null,
              "df$zoom_to",
              {
                "crs": {
                  "crsClass": "L.CRS.EPSG3857",
                  "code": null,
                  "proj4def": null,
                  "projectedBounds": null,
                  "options": {

                  }
                },
                "pane": "polygon",
                "stroke": true,
                "color": "#333333",
                "weight": 0.5,
                "opacity": 0.9,
                "fill": true,
                "fillColor": "#6666FF",
                "fillOpacity": 0.6,
                "smoothFactor": 1,
                "noClip": false
              },
              "<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>geometry&emsp;<\/th><td>sfc_POLYGON&emsp;<\/td><\/tr><\/table><\/div>",
              {
                "maxWidth": 800,
                "minWidth": 50,
                "autoPan": true,
                "keepInView": false,
                "closeButton": true,
                "closeOnClick": true,
                "className": ""
              },
              "1",
              {
                "interactive": false,
                "permanent": false,
                "direction": "auto",
                "opacity": 1,
                "offset": [
                  0,
                  0
                ],
                "textsize": "10px",
                "textOnly": false,
                "className": "",
                "sticky": true
              },
              {
                "stroke": true,
                "weight": 1,
                "opacity": 0.9,
                "fillOpacity": 0.84,
                "bringToFront": false,
                "sendToBack": false
              }
            ]
          },
          {
            "method": "addScaleBar",
            "args": [
              {
                "maxWidth": 100,
                "metric": true,
                "imperial": true,
                "updateWhenIdle": true,
                "position": "bottomleft"
              }
            ]
          },
          {
            "method": "addHomeButton",
            "args": [
              140.9619017,
              -39.1984867,
              150.0332821,
              -33.9807974,
              true,
              "df$zoom_to",
              "Zoom to df$zoom_to",
              "<strong> df$zoom_to <\/strong>",
              "bottomright"
            ]
          },
          {
            "method": "addLayersControl",
            "args": [
              "Esri.WorldImagery",
              "df$zoom_to",
              {
                "collapsed": true,
                "autoZIndex": true,
                "position": "topleft"
              }
            ]
          },
          {
            "method": "addLegend",
            "args": [
              {
                "colors": [
                  "#6666FF"
                ],
                "labels": [
                  "df$zoom_to"
                ],
                "na_color": null,
                "na_label": "NA",
                "opacity": 1,
                "position": "topright",
                "type": "factor",
                "title": "",
                "extra": null,
                "layerId": null,
                "className": "info legend",
                "group": "df$zoom_to"
              }
            ]
          },
          {
            "method": "hideGroup",
            "args": [
              "df$zoom_to"
            ]
          },
          {
            "method": "addCircleMarkers",
            "args": [
              null,
              null,
              10,
              1,
              "editLayer",
              {
                "crs": {
                  "crsClass": "L.CRS.EPSG3857",
                  "code": null,
                  "proj4def": null,
                  "projectedBounds": null,
                  "options": {

                  }
                },
                "pane": "overlayPane",
                "stroke": true,
                "color": "#03F",
                "weight": 5,
                "opacity": 0.5,
                "fill": true,
                "fillColor": "#03F",
                "fillOpacity": 0.2
              },
              null,
              null,
              "<div class='scrollableContainer'><table class= id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>id&emsp;<\/th><td>CHANGE ME&emsp;<\/td><\/tr><tr><td>2<\/td><th>comments&emsp;<\/th><td>ADD COMMENTS...&emsp;<\/td><\/tr><tr><td>3<\/td><th>leaf_id&emsp;<\/th><td>1&emsp;<\/td><\/tr><tr><td>4<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>",
              {
                "maxWidth": 800,
                "minWidth": 50,
                "autoPan": true,
                "keepInView": false,
                "closeButton": true,
                "closeOnClick": true,
                "className": ""
              },
              null,
              {
                "interactive": false,
                "permanent": false,
                "direction": "auto",
                "opacity": 1,
                "offset": [
                  0,
                  0
                ],
                "textsize": "10px",
                "textOnly": false,
                "className": "",
                "sticky": true
              },
              null
            ]
          },
          {
            "method": "addDrawToolbar",
            "args": [
              null,
              "editLayer",
              {
                "position": "topleft",
                "draw": {
                  "polyline": {
                    "allowIntersection": true,
                    "drawError": {
                      "color": "#b00b00",
                      "timeout": 2500
                    },
                    "guidelineDistance": 20,
                    "maxGuideLineLength": 4000,
                    "showLength": true,
                    "metric": true,
                    "feet": true,
                    "nautic": false,
                    "zIndexOffset": 2000,
                    "shapeOptions": {
                      "stroke": true,
                      "color": "#03f",
                      "weight": 1,
                      "opacity": 1,
                      "fill": false,
                      "fillColor": "#03f",
                      "fillOpacity": 0.4,
                      "clickable": true,
                      "smoothFactor": 1,
                      "noClip": true
                    },
                    "repeatMode": true
                  },
                  "polygon": {
                    "showArea": false,
                    "metric": true,
                    "shapeOptions": {
                      "stroke": true,
                      "color": "#03f",
                      "weight": 1,
                      "opacity": 1,
                      "fill": true,
                      "fillColor": "#03f",
                      "fillOpacity": 0.4,
                      "clickable": true,
                      "smoothFactor": 1,
                      "noClip": true
                    },
                    "repeatMode": true
                  },
                  "circle": false,
                  "rectangle": {
                    "showArea": true,
                    "metric": true,
                    "shapeOptions": {
                      "stroke": true,
                      "color": "#03f",
                      "weight": 1,
                      "opacity": 1,
                      "fill": true,
                      "fillColor": "#03f",
                      "fillOpacity": 0.4,
                      "clickable": true,
                      "smoothFactor": 1,
                      "noClip": true
                    },
                    "repeatMode": true
                  },
                  "marker": {
                    "zIndexOffset": 2000,
                    "repeatMode": true
                  },
                  "circlemarker": {
                    "stroke": true,
                    "color": "#3388ff",
                    "weight": 4,
                    "opacity": 0.5,
                    "fill": true,
                    "fillOpacity": 0.2,
                    "clickable": true,
                    "zIndexOffset": 2000,
                    "repeatMode": true
                  },
                  "singleFeature": false
                },
                "edit": {
                  "edit": true,
                  "remove": true,
                  "allowIntersection": true
                }
              }
            ]
          }
        ],
        "limits": {
          "lat": [
            -39.1984867,
            -33.9807974
          ],
          "lng": [
            140.9619017,
            150.0332821
          ]
        },
        "fitBounds": [
          -39.1984867,
          140.9619017,
          -33.9807974,
          150.0332821,
          [

          ]
        ]
      },
      "evals": [

      ],
      "jsHooks": {
        "render": [
          {
            "code": "function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}",
            "data": null
          },
          {
            "code": "function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}",
            "data": null
          }
        ]
      },
      "deps": [
        {
          "name": "leaflet-providers",
          "version": "1.9.0",
          "src": {
            "href": "leaflet-providers-1.9.0"
          },
          "meta": null,
          "script": "leaflet-providers_1.9.0.js",
          "stylesheet": null,
          "head": null,
          "attachment": null,
          "package": null,
          "all_files": false
        },
        {
          "name": "leaflet-providers-plugin",
          "version": "2.0.4.1",
          "src": {
            "href": "leaflet-providers-plugin-2.0.4.1"
          },
          "meta": null,
          "script": "leaflet-providers-plugin.js",
          "stylesheet": null,
          "head": null,
          "attachment": null,
          "package": null,
          "all_files": true
        },
        {
          "name": "HomeButton",
          "version": "0.0.1",
          "src": {
            "href": "HomeButton-0.0.1"
          },
          "meta": null,
          "script": [
            "home-button.js",
            "easy-button-src.min.js"
          ],
          "stylesheet": "home-button.css",
          "head": null,
          "attachment": null,
          "package": null,
          "all_files": true
        },
        {
          "name": "clipboard",
          "version": "0.0.1",
          "src": {
            "href": "clipboard-0.0.1"
          },
          "meta": null,
          "script": "setClipboardText.js",
          "stylesheet": null,
          "head": null,
          "attachment": null,
          "package": null,
          "all_files": true
        },
        {
          "name": "mapviewCSS",
          "version": "0.0.1",
          "src": {
            "href": "mapviewCSS-0.0.1"
          },
          "meta": null,
          "script": null,
          "stylesheet": [
            "mapview-popup.css",
            "mapview.css"
          ],
          "head": null,
          "attachment": null,
          "package": null,
          "all_files": true
        },
        {
          "name": "lfx-draw",
          "version": "1.0.2",
          "src": {
            "href": "lfx-draw-1.0.2"
          },
          "meta": null,
          "script": [
            "lfx-draw-prod.js",
            "lfx-draw-bindings.js"
          ],
          "stylesheet": "lfx-draw-prod.css",
          "head": null,
          "attachment": null,
          "package": null,
          "all_files": true
        },
        {
          "name": "lfx-draw-drag",
          "version": "1.0.2",
          "src": {
            "href": "lfx-draw-drag-1.0.2"
          },
          "meta": null,
          "script": "lfx-draw-drag-prod.js",
          "stylesheet": null,
          "head": null,
          "attachment": null,
          "package": null,
          "all_files": true
        }
      ]
    },
    "tbl": {
      "x": {
        "filter": "none",
        "vertical": false,
        "editable": {
          "target": "cell",
          "disable": {
            "columns": null
          },
          "numeric": [
            3
          ],
          "area": [

          ]
        },
        "container": "<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>id<\/th>\n      <th>comments<\/th>\n      <th>leaf_id<\/th>\n      <th>geometry<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>",
        "options": {
          "scrollY": "200px",
          "pageLength": 50,
          "scrollX": true,
          "columnDefs": [
            {
              "visible": false,
              "targets": [
                3,
                4
              ]
            },
            {
              "className": "dt-right",
              "targets": 3
            },
            {
              "orderable": false,
              "targets": 0
            }
          ],
          "order": [

          ],
          "autoWidth": false,
          "orderClasses": false,
          "ajax": {
            "type": "POST",
            "data": "function(d) {\nd.search.caseInsensitive = true;\nd.search.smart = true;\nd.escape = true;\nvar encodeAmp = function(x) { x.value = x.value.replace(/&/g, \"%26\"); }\nencodeAmp(d.search);\n$.each(d.columns, function(i, v) {encodeAmp(v.search);});\n}"
          },
          "serverSide": true,
          "processing": true
        },
        "selection": {
          "mode": "single",
          "selected": null,
          "target": "row",
          "selectable": null
        }
      },
      "evals": [
        "options.ajax.data"
      ],
      "jsHooks": [

      ],
      "deps": [
        {
          "name": "jquery",
          "version": "3.6.0",
          "src": {
            "href": "jquery-3.6.0"
          },
          "meta": null,
          "script": "jquery-3.6.0.min.js",
          "stylesheet": null,
          "head": null,
          "attachment": null,
          "all_files": true
        },
        {
          "name": "dt-core",
          "version": "1.11.3",
          "src": {
            "href": "dt-core-1.11.3"
          },
          "meta": null,
          "script": "js/jquery.dataTables.min.js",
          "stylesheet": [
            "css/jquery.dataTables.min.css",
            "css/jquery.dataTables.extra.css"
          ],
          "head": null,
          "attachment": null,
          "package": null,
          "all_files": false
        },
        {
          "name": "crosstalk",
          "version": "1.2.0",
          "src": {
            "href": "crosstalk-1.2.0"
          },
          "meta": null,
          "script": "js/crosstalk.min.js",
          "stylesheet": "css/crosstalk.min.css",
          "head": null,
          "attachment": null,
          "all_files": true
        }
      ]
    }
  },
  "export": {

  }
}
